/* Modern SaaS Design System */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* React Flow - Force edge visibility with custom styling */
.react-flow__edges {
  z-index: 100 !important;
  pointer-events: none !important;
}

.react-flow__edge {
  pointer-events: none !important;
}

.react-flow__edge path {
  fill: none !important;
  stroke-opacity: 1 !important;
  opacity: 1 !important;
  visibility: visible !important;
  stroke-width: 3px !important;
}

.react-flow__edge-path {
  fill: none !important;
  stroke-opacity: 1 !important;
  opacity: 1 !important;
  visibility: visible !important;
  stroke-width: 3px !important;
}

/* Hide React Flow edge interaction paths (hit zones) */
.react-flow__edge path.react-flow__edge-interaction {
  stroke: none !important;
  fill: none !important;
  opacity: 0 !important;
}

/* Hide content until theme is loaded to prevent flash of default theme */
html.theme-loading body {
  visibility: hidden;
}

html.theme-loaded body {
  visibility: visible;
}

/* Hide scrollbar for tabs */
.scrollbar-hide {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;  /* Chrome, Safari and Opera */
}

/* Hide scrollbar for Chrome, Safari and Opera */
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* Hide scrollbar for IE, Edge and Firefox */
.scrollbar-hide {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
}

/* Marketing page specific overrides to enable scrolling and fix typography */
.marketing-page {
  overflow-y: auto !important;
  height: auto !important;
  min-height: 100vh;
}

/* Override global overflow restrictions for marketing */
body:has(.marketing-page) {
  overflow: auto !important;
  height: auto !important;
}

html:has(.marketing-page) {
  overflow: auto !important;
  height: auto !important;
}

#root:has(.marketing-page) {
  overflow: auto !important;
  height: auto !important;
}

/* Override small font sizes for marketing page */
.marketing-page button,
.marketing-page a,
.marketing-page nav {
  font-size: 16px !important;
}

.marketing-page .text-base {
  font-size: 16px !important;
}

.marketing-page .text-lg {
  font-size: 18px !important;
}

.marketing-page .text-xl {
  font-size: 20px !important;
}

/* Login page specific overrides to enable scrolling */
.login-page {
  overflow-y: auto !important;
  height: auto !important;
  min-height: 100vh;
}

/* Override global overflow restrictions for login */
body:has(.login-page) {
  overflow: auto !important;
  height: auto !important;
}

html:has(.login-page) {
  overflow: auto !important;
  height: auto !important;
}

#root:has(.login-page) {
  overflow: auto !important;
  height: auto !important;
}

/* Typography System with CSS Variables */
:root {
  /* Default font sizes - smaller for better UI density */
  --base-font-size: 11px;
  --font-scale: 1;
  --spacing-scale: 1;
  --vertical-spacing-scale: 1;
  --h1-size: 18px;
  --h2-size: 14px;
  --h3-size: 13px;
  --h4-size: 12px;
  --h5-size: 11px;
  --h6-size: 10px;
  --small-size: 10px;
  --tiny-size: 9px;
  
  /* Font families */
  --primary-font: 'Inter', sans-serif;
  --heading-font: 'Inter', sans-serif;
  
  /* Button customization - matches saved theme settings */
  --button-small-padding: 8px;
  --button-default-padding: 10px;
  --button-large-padding: 12px;
  --button-radius: 4px;
  --button-primary-bg: #00BFA6;
  --button-secondary-bg: #666666;
  --button-destructive-bg: #EF4444;
  
  /* Label/Badge styling - matches saved theme settings */
  --label-radius: 999px;
  --label-padding: 4px;
  
  /* Text size customization - smaller for better UI density */
  --button-text-size: 9px;
  --menu-text-size: 9px;
  
  /* AI Chat specific styling - Replit-inspired with theme branding */
  /* Note: 10pt ≈ 13.33px at standard 96 DPI */
  --chat-font-size: 10pt;
  --chat-header-font: 10pt;
  --chat-input-font: 10pt;
  --chat-spacing: 12px;
  --chat-bubble-radius: 6px;
}

/* Apply font variables globally */
body {
  font-family: var(--primary-font);
  font-size: calc(var(--base-font-size) * var(--font-scale));
  line-height: 1.5;
}

/* Heading styles */
h1, .text-4xl, .text-3xl {
  font-family: var(--heading-font);
  font-size: calc(var(--h1-size) * var(--font-scale));
  line-height: 1.2;
  margin-bottom: calc(1rem * var(--vertical-spacing-scale));
}

h2, .text-2xl {
  font-family: var(--heading-font);
  font-size: calc(var(--h2-size) * var(--font-scale));
  line-height: 1.3;
  margin-bottom: calc(0.875rem * var(--vertical-spacing-scale));
}

h3, .text-xl {
  font-family: var(--heading-font);
  font-size: calc(var(--h3-size) * var(--font-scale));
  line-height: 1.4;
  margin-bottom: calc(0.75rem * var(--vertical-spacing-scale));
}

h4, .text-lg {
  font-family: var(--heading-font);
  font-size: calc(var(--h4-size) * var(--font-scale));
  line-height: 1.4;
  margin-bottom: calc(0.625rem * var(--vertical-spacing-scale));
}

h5 {
  font-family: var(--heading-font);
  font-size: calc(var(--h5-size) * var(--font-scale));
  line-height: 1.5;
  margin-bottom: calc(0.5rem * var(--vertical-spacing-scale));
}

h6 {
  font-family: var(--heading-font);
  font-size: calc(var(--h6-size) * var(--font-scale));
  line-height: 1.5;
  margin-bottom: calc(0.5rem * var(--vertical-spacing-scale));
}

/* Text sizes */
.text-base, .body-text {
  font-size: calc(var(--base-font-size) * var(--font-scale));
}

.text-sm {
  font-size: calc(var(--small-size) * var(--font-scale));
}

.text-xs {
  font-size: calc(var(--tiny-size) * var(--font-scale));
}

/* Consistent text styles for descriptions and subtitles */
.text-muted-foreground {
  font-size: calc(var(--base-font-size) * var(--font-scale));
  color: hsl(var(--muted-foreground));
}

/* Sidebar and navigation text - Override all hardcoded sizes */
.sidebar-text, 
nav a, 
[role="navigation"] a,
.sidebar-menu-button,
[data-sidebar="menu-button"],
.sidebar-content a,
.sidebar-content button,
.sidebar-content [role="button"],
.sidebar-content span:not(.badge) {
  font-size: var(--menu-text-size) !important;
}

/* Ensure sidebar section header buttons use menu text size, not button text size */
nav button, 
[role="navigation"] button,
.sidebar-content button {
  font-size: var(--menu-text-size) !important;
}

/* Ensure consistent sidebar item heights */
.sidebar-menu-item,
[data-sidebar="menu-item"] {
  min-height: 2.5rem;
}

/* Paragraph spacing */
p {
  margin-bottom: calc(1rem * var(--vertical-spacing-scale));
}

/* Button text sizes */
button {
  font-size: var(--button-text-size) !important;
}

/* Menu item text sizes */
[role="menuitem"], 
[role="menuitemradio"], 
[role="menuitemcheckbox"],
.dropdown-menu-item {
  font-size: var(--menu-text-size) !important;
}

/* Apply spacing scale to padding and margins */
/* Horizontal spacing */
.px-1 { padding-left: calc(0.25rem * var(--spacing-scale)); padding-right: calc(0.25rem * var(--spacing-scale)); }
.px-2 { padding-left: calc(0.5rem * var(--spacing-scale)); padding-right: calc(0.5rem * var(--spacing-scale)); }
.px-3 { padding-left: calc(0.75rem * var(--spacing-scale)); padding-right: calc(0.75rem * var(--spacing-scale)); }
.px-4 { padding-left: calc(1rem * var(--spacing-scale)); padding-right: calc(1rem * var(--spacing-scale)); }
.px-5 { padding-left: calc(1.25rem * var(--spacing-scale)); padding-right: calc(1.25rem * var(--spacing-scale)); }
.px-6 { padding-left: calc(1.5rem * var(--spacing-scale)); padding-right: calc(1.5rem * var(--spacing-scale)); }
.px-8 { padding-left: calc(2rem * var(--spacing-scale)); padding-right: calc(2rem * var(--spacing-scale)); }

/* Vertical spacing */
.py-1 { padding-top: calc(0.25rem * var(--vertical-spacing-scale)); padding-bottom: calc(0.25rem * var(--vertical-spacing-scale)); }
.py-2 { padding-top: calc(0.5rem * var(--vertical-spacing-scale)); padding-bottom: calc(0.5rem * var(--vertical-spacing-scale)); }
.py-3 { padding-top: calc(0.75rem * var(--vertical-spacing-scale)); padding-bottom: calc(0.75rem * var(--vertical-spacing-scale)); }
.py-4 { padding-top: calc(1rem * var(--vertical-spacing-scale)); padding-bottom: calc(1rem * var(--vertical-spacing-scale)); }
.py-5 { padding-top: calc(1.25rem * var(--vertical-spacing-scale)); padding-bottom: calc(1.25rem * var(--vertical-spacing-scale)); }
.py-6 { padding-top: calc(1.5rem * var(--vertical-spacing-scale)); padding-bottom: calc(1.5rem * var(--vertical-spacing-scale)); }
.py-8 { padding-top: calc(2rem * var(--vertical-spacing-scale)); padding-bottom: calc(2rem * var(--vertical-spacing-scale)); }

/* All sides padding */
.p-1 { padding: calc(0.25rem * var(--spacing-scale)); }
.p-2 { padding: calc(0.5rem * var(--spacing-scale)); }
.p-3 { padding: calc(0.75rem * var(--spacing-scale)); }
.p-4 { padding: calc(1rem * var(--spacing-scale)); }
.p-5 { padding: calc(1.25rem * var(--spacing-scale)); }
.p-6 { padding: calc(1.5rem * var(--spacing-scale)); }
.p-8 { padding: calc(2rem * var(--spacing-scale)); }

/* Vertical margins */
.my-1 { margin-top: calc(0.25rem * var(--vertical-spacing-scale)); margin-bottom: calc(0.25rem * var(--vertical-spacing-scale)); }
.my-2 { margin-top: calc(0.5rem * var(--vertical-spacing-scale)); margin-bottom: calc(0.5rem * var(--vertical-spacing-scale)); }
.my-3 { margin-top: calc(0.75rem * var(--vertical-spacing-scale)); margin-bottom: calc(0.75rem * var(--vertical-spacing-scale)); }
.my-4 { margin-top: calc(1rem * var(--vertical-spacing-scale)); margin-bottom: calc(1rem * var(--vertical-spacing-scale)); }
.my-5 { margin-top: calc(1.25rem * var(--vertical-spacing-scale)); margin-bottom: calc(1.25rem * var(--vertical-spacing-scale)); }
.my-6 { margin-top: calc(1.5rem * var(--vertical-spacing-scale)); margin-bottom: calc(1.5rem * var(--vertical-spacing-scale)); }
.my-8 { margin-top: calc(2rem * var(--vertical-spacing-scale)); margin-bottom: calc(2rem * var(--vertical-spacing-scale)); }

/* Gap spacing in flex/grid */
.gap-1 { gap: calc(0.25rem * var(--spacing-scale)); }
.gap-2 { gap: calc(0.5rem * var(--spacing-scale)); }
.gap-3 { gap: calc(0.75rem * var(--spacing-scale)); }
.gap-4 { gap: calc(1rem * var(--spacing-scale)); }
.gap-5 { gap: calc(1.25rem * var(--spacing-scale)); }
.gap-6 { gap: calc(1.5rem * var(--spacing-scale)); }
.gap-8 { gap: calc(2rem * var(--spacing-scale)); }

/* Space between utilities */
.space-y-1 > * + * { margin-top: calc(0.25rem * var(--vertical-spacing-scale)); }
.space-y-2 > * + * { margin-top: calc(0.5rem * var(--vertical-spacing-scale)); }
.space-y-3 > * + * { margin-top: calc(0.75rem * var(--vertical-spacing-scale)); }
.space-y-4 > * + * { margin-top: calc(1rem * var(--vertical-spacing-scale)); }
.space-y-5 > * + * { margin-top: calc(1.25rem * var(--vertical-spacing-scale)); }
.space-y-6 > * + * { margin-top: calc(1.5rem * var(--vertical-spacing-scale)); }
.space-y-8 > * + * { margin-top: calc(2rem * var(--vertical-spacing-scale)); }

/* Mobile-safe viewport application styles */
html, body {
  height: 100vh; /* Fallback */
  height: 100dvh; /* Dynamic viewport height for mobile */
  overflow: hidden;
}

#root {
  height: 100vh; /* Fallback */
  height: 100dvh; /* Dynamic viewport height for mobile */
  overflow: hidden;
}

/* Leaflet map z-index fixes */
.leaflet-container {
  z-index: 0 !important;
}

.leaflet-control-container {
  z-index: 1 !important;
}

.leaflet-popup-pane {
  z-index: 2 !important;
}

.leaflet-tooltip-pane {
  z-index: 3 !important;
}

/* Leaflet tooltip styling */
.leaflet-tooltip,
.custom-tooltip {
  background-color: rgba(0, 0, 0, 0.9) !important;
  color: white !important;
  border: none !important;
  border-radius: 6px !important;
  padding: 10px !important;
  font-size: 13px !important;
  font-weight: 500 !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4) !important;
  opacity: 1 !important;
  z-index: 1000 !important;
  pointer-events: none !important;
}

.leaflet-tooltip-top:before {
  border-top-color: rgba(0, 0, 0, 0.8) !important;
}

.leaflet-tooltip-bottom:before {
  border-bottom-color: rgba(0, 0, 0, 0.8) !important;
}

.leaflet-tooltip-left:before {
  border-left-color: rgba(0, 0, 0, 0.8) !important;
}

/* Radix UI Select dropdown z-index - ensure dropdowns appear above filter panel (z-1000) */
[data-radix-select-content],
[data-radix-popper-content-wrapper] {
  z-index: 2000 !important;
}

.leaflet-tooltip-right:before {
  border-right-color: rgba(0, 0, 0, 0.8) !important;
}

/* Customer marker hover effects */
.customer-marker-icon .marker-dot {
  transition: transform 0.2s ease !important;
}

.customer-marker-icon:hover .marker-dot {
  transform: scale(1.3) !important;
  box-shadow: 0 4px 12px rgba(0,0,0,0.6) !important;
}

/* App-wide container styles for consistent max-width */
.app-container {
  max-width: 1000px;
  margin: 0 auto;
  width: 100%;
  padding-left: 1rem;
  padding-right: 1rem;
}

/* Container variants for different content types */
.container-narrow {
  max-width: 600px;
  margin: 0 auto;
  padding: 0 1rem;
}

.container-standard {
  max-width: 1000px;
  margin: 0 auto;
  padding: 0 1rem;
}

.container-wide {
  max-width: 1300px;
  margin: 0 auto;
  padding: 0 1rem;
}

/* Content width limits for readability */
.content-constrained {
  max-width: 65ch;
  margin: 0 auto;
}

/* Limit content width on large screens for better readability */
@media (min-width: 1400px) {
  .app-container {
    max-width: 1000px;
  }
  .container-standard {
    max-width: 1100px;
  }
  .container-wide {
    max-width: 1400px;
  }
}

@media (min-width: 1920px) {
  .app-container {
    max-width: 1100px;
  }
  .container-standard {
    max-width: 1100px;
  }
  .container-wide {
    max-width: 1400px;
  }
}

@media (min-width: 768px) {
  .app-container {
    padding-left: 1.5rem;
    padding-right: 1.5rem;
  }
}

@media (min-width: 1024px) {
  .app-container {
    padding-left: 2rem;
    padding-right: 2rem;
  }
}

/* ============================================
   KNOWLEDGE BASE DOCUMENT RENDERING FIX
   ============================================
   Isolated prose styles for KB documents
   Overrides global tiny font sizes (11-18px)
   with proper readable typography (16-32px)
   ============================================ */

.document-prose {
  font-family: var(--primary-font);
  font-size: 16px !important;
  line-height: 1.7 !important;
  color: hsl(var(--foreground));
}

/* Headings with proper sizing */
.document-prose h1 {
  font-size: 32px !important;
  line-height: 1.2 !important;
  margin-top: 2rem !important;
  margin-bottom: 1.5rem !important;
  font-weight: 700 !important;
}

.document-prose h2 {
  font-size: 24px !important;
  line-height: 1.3 !important;
  margin-top: 1.75rem !important;
  margin-bottom: 1.25rem !important;
  font-weight: 600 !important;
}

.document-prose h3 {
  font-size: 20px !important;
  line-height: 1.4 !important;
  margin-top: 1.5rem !important;
  margin-bottom: 1rem !important;
  font-weight: 600 !important;
}

.document-prose h4 {
  font-size: 18px !important;
  line-height: 1.4 !important;
  margin-top: 1.25rem !important;
  margin-bottom: 0.875rem !important;
  font-weight: 600 !important;
}

.document-prose h5 {
  font-size: 16px !important;
  line-height: 1.5 !important;
  margin-top: 1rem !important;
  margin-bottom: 0.75rem !important;
  font-weight: 600 !important;
}

.document-prose h6 {
  font-size: 14px !important;
  line-height: 1.5 !important;
  margin-top: 1rem !important;
  margin-bottom: 0.75rem !important;
  font-weight: 600 !important;
}

/* Paragraphs and text */
.document-prose p {
  font-size: 16px !important;
  line-height: 1.7 !important;
  margin-bottom: 1.25rem !important;
}

.document-prose strong {
  font-weight: 600 !important;
}

.document-prose em {
  font-style: italic !important;
}

/* Lists */
.document-prose ul,
.document-prose ol {
  font-size: 16px !important;
  line-height: 1.7 !important;
  margin-bottom: 1.25rem !important;
  padding-left: 1.75rem !important;
}

.document-prose li {
  margin-bottom: 0.5rem !important;
}

.document-prose ul ul,
.document-prose ol ol,
.document-prose ul ol,
.document-prose ol ul {
  margin-top: 0.5rem !important;
  margin-bottom: 0.5rem !important;
}

/* Code and preformatted text */
.document-prose code {
  font-size: 14px !important;
  font-family: 'Courier New', Courier, monospace !important;
  background-color: hsl(var(--muted)) !important;
  padding: 2px 6px !important;
  border-radius: 3px !important;
}

.document-prose pre {
  font-size: 14px !important;
  background-color: hsl(var(--muted)) !important;
  padding: 1rem !important;
  border-radius: 6px !important;
  overflow-x: auto !important;
  margin-bottom: 1.25rem !important;
}

.document-prose pre code {
  background-color: transparent !important;
  padding: 0 !important;
}

/* Blockquotes */
.document-prose blockquote {
  font-size: 16px !important;
  line-height: 1.7 !important;
  border-left: 4px solid hsl(var(--muted-foreground)) !important;
  padding-left: 1.25rem !important;
  margin: 1.5rem 0 !important;
  font-style: italic !important;
  color: hsl(var(--muted-foreground)) !important;
}

/* Links */
.document-prose a {
  color: hsl(var(--primary)) !important;
  text-decoration: underline !important;
}

.document-prose a:hover {
  opacity: 0.8 !important;
}

/* Tables */
.document-prose table {
  width: 100% !important;
  border-collapse: collapse !important;
  margin-bottom: 1.25rem !important;
  font-size: 15px !important;
}

.document-prose th,
.document-prose td {
  border: 1px solid hsl(var(--border)) !important;
  padding: 0.5rem 0.75rem !important;
  text-align: left !important;
}

.document-prose th {
  background-color: hsl(var(--muted)) !important;
  font-weight: 600 !important;
}

/* Horizontal rules */
.document-prose hr {
  border: none !important;
  border-top: 1px solid hsl(var(--border)) !important;
  margin: 2rem 0 !important;
}

/* Images */
.document-prose img {
  max-width: 100% !important;
  height: auto !important;
  border-radius: 6px !important;
  margin: 1.5rem 0 !important;
}

/* Mobile safe area support */
@supports (padding: env(safe-area-inset-bottom)) {
  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom);
  }
}

/* Mooncamp Mobile Responsive Design */
@media (max-width: 768px) {
  /* Typography adjustments */
  h1 { @apply text-xl; }
  h2 { @apply text-lg; }
  h3 { @apply text-base; }
  
  /* Enhanced mobile viewport support */
  :root {
    --mobile-vh: calc(var(--vh, 1vh) * 100);
    --mobile-header-height: 3.5rem; /* 56px */
    --mobile-safe-area-top: env(safe-area-inset-top, 0);
    --mobile-safe-area-bottom: env(safe-area-inset-bottom, 0);
    --mobile-content-height: calc(var(--mobile-vh) - var(--mobile-header-height) - var(--mobile-safe-area-top) - var(--mobile-safe-area-bottom));
  }
  
  /* Side panel becomes full-screen modal */
  .mooncamp-panel {
    width: 100vw !important;
    height: var(--mobile-vh) !important;
    padding: 16px;
    padding-top: calc(16px + var(--mobile-safe-area-top));
    padding-bottom: calc(16px + var(--mobile-safe-area-bottom));
  }
  
  /* Mobile panel content optimization */
  .mobile-panel-content {
    height: var(--mobile-content-height);
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }
  
  /* Mobile sheet optimization */
  .mobile-sheet-content {
    height: calc(100vh - env(safe-area-inset-top, 0px) - env(safe-area-inset-bottom, 0px));
    max-height: calc(100vh - env(safe-area-inset-top, 0px) - env(safe-area-inset-bottom, 0px));
    padding-top: env(safe-area-inset-top, 0px);
    padding-bottom: env(safe-area-inset-bottom, 0px);
  }
  
  /* Mobile slide panel specific */
  .mobile-slide-panel {
    height: 100vh !important; /* Fallback */
    height: 100dvh !important; /* Dynamic viewport height for mobile */
    max-height: 100vh !important; /* Fallback */
    max-height: 100dvh !important; /* Dynamic viewport height for mobile */
    padding-bottom: env(safe-area-inset-bottom) !important;
  }
  
  .mobile-slide-panel-content {
    height: calc(100vh - 70px); /* Fallback */
    height: calc(100dvh - 70px); /* Dynamic viewport height for mobile */
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
    padding-bottom: env(safe-area-inset-bottom);
  }

  /* Mobile sheet content for WorkItemPanel */
  .mobile-sheet-content {
    height: 100vh !important; /* Fallback */
    height: 100dvh !important; /* Dynamic viewport height for mobile */
    max-height: 100vh !important; /* Fallback */
    max-height: 100dvh !important; /* Dynamic viewport height for mobile */
    padding-bottom: env(safe-area-inset-bottom);
  }

  /* Mobile tabs content */
  .mobile-tabs-content {
    height: calc(100vh - 120px); /* Fallback, account for header/tabs */
    height: calc(100dvh - 120px); /* Dynamic viewport height for mobile */
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
    padding-bottom: env(safe-area-inset-bottom);
  }

  /* Mobile form container */
  .mobile-form-container {
    height: calc(100vh - 160px); /* Fallback, account for header/footer */
    height: calc(100dvh - 160px); /* Dynamic viewport height for mobile */
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
    padding-bottom: env(safe-area-inset-bottom);
  }
  
  /* Tables become horizontally scrollable */
  .mooncamp-table-wrapper {
    @apply overflow-x-auto;
  }
  
  .mooncamp-table {
    @apply min-w-full;
    font-size: 14px;
  }
  
  /* Reduce padding on mobile */
  .mooncamp-table-cell {
    @apply px-2 py-1.5;
  }
  
  /* Stack form elements */
  .mooncamp-form-group {
    @apply space-y-3;
  }
  
  /* Mobile textarea font size override */
  textarea {
    font-size: 14px !important;
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
  }

  /* Comprehensive mobile overflow prevention */
  * {
    max-width: 100vw;
    box-sizing: border-box;
  }

  .mobile-container {
    width: 100vw;
    max-width: 100vw;
    overflow-x: hidden;
  }

  .mobile-card {
    width: 100%;
    max-width: 100%;
    overflow: hidden;
    word-wrap: break-word;
    word-break: break-word;
  }

  .mobile-text {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    max-width: 100%;
  }

  .mobile-flex {
    display: flex;
    width: 100%;
    max-width: 100%;
    overflow: hidden;
  }

  .mobile-flex > * {
    flex-shrink: 1;
    min-width: 0;
    overflow: hidden;
  }
  
  /* Mobile form optimization */
  .mobile-form-container {
    padding: 1rem;
    height: calc(100vh - 140px);
    height: calc(100dvh - 140px);
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }
  
  /* Mobile tabs content */
  .mobile-tabs-content {
    height: calc(100vh - 180px);
    height: calc(100dvh - 180px);
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }
}

:root {
  /* Mooncamp Design System Colors */
  --mooncamp-bg: #FAFAFA;
  --mooncamp-fg: #2F2F2F;
  --mooncamp-primary: #00BFA6;
  --mooncamp-success: #27AE60;
  --mooncamp-border: #E0E0E0;
  --mooncamp-muted-bg: #F5F5F5;
  --mooncamp-muted-fg: #666666;
  --mooncamp-sidebar-bg: #2F2F2F;
  --mooncamp-sidebar-fg: #FFFFFF;
  
  /* Shadow and overlay values */
  --mooncamp-shadow-sm: 0 2px 4px rgba(0,0,0,0.1);
  --mooncamp-shadow-md: 0 4px 12px rgba(0,0,0,0.1);
  --mooncamp-overlay: rgba(0,0,0,0.5);
  
  /* Country Connect Brand Colors (kept as accent options) */
  --cc-green: #007663;
  --cc-yellow: #F8AA00;
  
  /* Modern SaaS Color Palette with Aimee Works Integration */
  --background: 0 0% 98%; /* #FAFAFA - Light background */
  --foreground: 0 0% 18%; /* #2F2F2F - Dark text */
  --muted: 0 0% 96%; /* #F5F5F5 - Muted background */
  --muted-foreground: 0 0% 40%; /* #666666 - Muted text */
  --popover: 0 0% 100%; /* Pure white for popovers */
  --popover-foreground: 0 0% 18%;
  --card: 0 0% 100%; /* Pure white for cards */
  --card-foreground: 0 0% 18%;
  --border: 0 0% 88%; /* #E0E0E0 - Light border */
  --input: 0 0% 88%;
  --primary: 172 100% 37%; /* #00BFA6 - Aimee turquoise */
  --primary-foreground: 0 0% 100%;
  --secondary: 142 44% 42%; /* #27AE60 - Mooncamp green */
  --secondary-foreground: 0 0% 100%;
  --accent: 0 0% 96%; /* #F5F5F5 - Mooncamp muted */
  --accent-foreground: 0 0% 18%;
  --destructive: 0 84% 60%;
  --destructive-foreground: 0 0% 98%;
  --warning: 38 100% 49%;
  --warning-foreground: 0 0% 100%;
  --success: 142 44% 42%; /* #27AE60 - Mooncamp green */
  --success-foreground: 0 0% 100%;
  --ring: 168 100% 37%; /* Matches primary */
  --radius: 8px;

  /* Sidebar Layout Variables */
  --sidebar-width: 16rem; /* 256px default, will be updated by JavaScript */

  /* Modern Gradients */
  --gradient-primary: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
  --gradient-secondary: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
  --gradient-accent: linear-gradient(135deg, #ddd6fe 0%, #c4b5fd 100%);

  /* Shadows */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);

  /* Chart colors */
  --chart-1: 220 100% 54%;
  --chart-2: 142 76% 36%;
  --chart-3: 38 92% 50%;
  --chart-4: 339 82% 52%;
  --chart-5: 262 83% 58%;

  /* Sidebar colors - Light theme */
  --sidebar-background: 0 0% 96%; /* #F5F5F5 - Light grey */
  --sidebar-foreground: 0 0% 18%; /* Dark text */
  --sidebar-primary: 168 100% 37%; /* #00BFA6 - Turquoise */
  --sidebar-primary-foreground: 0 0% 100%;
  --sidebar-accent: 0 0% 88%; /* Light grey for hover */
  --sidebar-accent-foreground: 0 0% 18%;
  --sidebar-border: 0 0% 88%; /* Light border */
  --sidebar-ring: 168 100% 37%;
}

/* Responsive sidebar padding */
@media (min-width: 1024px) {
  .main-content-with-sidebar {
    padding-left: var(--sidebar-width);
  }
}

.dark {
  /* Mooncamp Design System Colors - Dark Mode */
  --mooncamp-bg: #1A1A1A;
  --mooncamp-fg: #FFFFFF;
  --mooncamp-primary: #00BFA6;
  --mooncamp-success: #27AE60;
  --mooncamp-border: #2F2F2F;
  --mooncamp-muted-bg: #242424;
  --mooncamp-muted-fg: #B0B0B0;
  --mooncamp-sidebar-bg: #1A1A1A;
  --mooncamp-sidebar-fg: #FFFFFF;
  
  /* Country Connect Brand Colors - Dark Mode */
  --cc-green: #51B47A;
  --cc-yellow: #F8AA00;
  
  --background: 0 0% 10%; /* #1A1A1A */
  --foreground: 0 0% 100%; /* #FFFFFF */
  --muted: 0 0% 14%; /* #242424 */
  --muted-foreground: 0 0% 69%; /* #B0B0B0 */
  --popover: 0 0% 10%; /* #1A1A1A */
  --popover-foreground: 0 0% 100%;
  --card: 0 0% 10%; /* #1A1A1A */
  --card-foreground: 0 0% 100%;
  --border: 0 0% 18%; /* #2F2F2F */
  --input: 0 0% 18%;
  --primary: 168 100% 37%; /* #00BFA6 */
  --primary-foreground: 0 0% 100%;
  --secondary: 142 44% 42%; /* #27AE60 */
  --secondary-foreground: 0 0% 100%;
  --accent: 0 0% 14%; /* #242424 */
  --accent-foreground: 0 0% 100%;
  --destructive: 0 84% 60%;
  --destructive-foreground: 0 0% 98%;
  --warning: 38 100% 49%;
  --warning-foreground: 0 0% 100%;
  --success: 142 44% 42%; /* #27AE60 */
  --success-foreground: 0 0% 100%;
  --ring: 168 100% 37%;

  /* Sidebar colors in dark mode */
  --sidebar-background: 0 0% 18%; /* #2F2F2F - Dark grey */
  --sidebar-foreground: 0 0% 100%; /* White text */
  --sidebar-primary: 168 100% 37%; /* #00BFA6 */
  --sidebar-primary-foreground: 0 0% 100%;
  --sidebar-accent: 0 0% 25%; /* Darker grey for hover */
  --sidebar-accent-foreground: 0 0% 100%;
  --sidebar-border: 0 0% 25%; /* Dark border */
  --sidebar-ring: 168 100% 37%;
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
  }

  /* Mooncamp typography scale - more compact */
  h1 { @apply text-2xl font-semibold tracking-tight; }
  h2 { @apply text-xl font-semibold tracking-tight; }
  h3 { @apply text-lg font-medium tracking-tight; }
  h4 { @apply text-base font-medium; }
  h5 { @apply text-sm font-medium; }
  h6 { @apply text-xs font-medium uppercase tracking-wide; }
}

@layer components {
  /* Mooncamp Design System Components */
  
  /* Table Styles */
  .mooncamp-table {
    @apply w-full bg-card rounded-lg overflow-hidden border border-border;
  }
  
  .mooncamp-table-header {
    @apply bg-muted/50 border-b;
  }
  
  .mooncamp-table-row {
    @apply hover:bg-muted/30 transition-colors duration-150 border-b last:border-0;
  }
  
  .mooncamp-table-cell {
    @apply px-3 py-2 text-sm font-medium;
  }
  
  /* Progress Bar Component */
  .mooncamp-progress {
    @apply h-1.5 bg-gray-200 rounded-full overflow-hidden;
  }
  
  .mooncamp-progress-fill {
    @apply h-full bg-primary transition-all duration-300 ease-out;
  }
  
  /* Pills/Badges */
  .mooncamp-pill {
    @apply inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium;
  }
  
  .mooncamp-pill-success {
    @apply bg-secondary text-white;
  }
  
  .mooncamp-pill-primary {
    @apply bg-primary text-white;
  }
  
  /* Side Panel Styles */
  .mooncamp-panel-overlay {
    @apply fixed inset-0 bg-black/50 z-40 transition-opacity duration-300;
  }
  
  .mooncamp-panel {
    @apply fixed top-0 right-0 h-full bg-card shadow-2xl z-50 overflow-y-auto;
    width: 40vw;
    transform: translateX(100%);
    transition: transform 0.3s ease-out;
  }
  
  .mooncamp-panel-open {
    transform: translateX(0);
  }
  
  /* Button Styles */
  .mooncamp-button {
    @apply font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2;
    border-radius: 6px;
  }
  
  .mooncamp-button-primary {
    @apply bg-primary text-white hover:bg-primary/90 px-4 py-2 shadow-sm hover:shadow-md focus:ring-primary;
  }
  
  .mooncamp-button-secondary {
    @apply bg-card border border-border text-foreground hover:bg-muted px-4 py-2 focus:ring-primary;
  }
  
  /* Hover Action Buttons */
  .mooncamp-hover-actions {
    @apply opacity-0 group-hover:opacity-100 transition-opacity duration-150;
  }
  
  /* Icon Styles */
  .mooncamp-icon {
    @apply w-4 h-4 inline-flex items-center justify-center;
  }
  
  /* Form Elements */
  .mooncamp-input {
    @apply w-full px-3 py-2 bg-background border border-border rounded-md focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200;
  }
  
  .mooncamp-textarea {
    @apply w-full px-3 py-2 bg-background border border-border rounded-md focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200 resize-none;
  }
  
  /* Modern SaaS Components (keeping legacy for gradual migration) */
  .saas-card {
    @apply bg-card border border-border rounded-xl shadow-sm hover:shadow-md transition-all duration-200;
  }

  .saas-button-primary {
    @apply bg-primary text-white hover:bg-primary/90 font-medium rounded-lg px-4 py-2 transition-all duration-200 shadow-sm hover:shadow-md;
  }

  .saas-button-secondary {
    @apply bg-secondary text-white hover:bg-secondary/90 font-medium rounded-lg px-4 py-2 transition-all duration-200 shadow-sm hover:shadow-md;
  }

  .saas-input {
    @apply bg-background border border-input rounded-lg px-3 py-2 text-sm ring-offset-background focus:ring-2 focus:ring-ring focus:ring-offset-2 transition-all duration-200;
  }

  .saas-badge {
    @apply inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium transition-colors;
  }

  .saas-badge-primary {
    @apply saas-badge bg-[#007663]/10 text-[#007663] border border-[#007663]/20;
  }

  .saas-badge-success {
    @apply saas-badge bg-[#007663]/10 text-[#007663] border border-[#007663]/20;
  }

  .saas-badge-warning {
    @apply saas-badge bg-[#F8AA00]/10 text-[#F8AA00] border border-[#F8AA00]/20;
  }

  .saas-badge-destructive {
    @apply saas-badge bg-red-50 text-red-700 border border-red-200;
  }

  .saas-badge-muted {
    @apply saas-badge bg-muted text-muted-foreground border border-border;
  }

  /* Standardized Page Typography - Consistent across all pages */
  .page-title {
    font-size: 0.875rem; /* 14px - equivalent to text-sm */
    font-weight: 600;
    line-height: 1.1;
  }

  .page-subtitle {
    font-size: 0.75rem; /* 12px - equivalent to text-xs */
    color: rgb(107 114 128); /* text-gray-600 */
    line-height: 1.2;
  }

  .section-title {
    font-size: 0.75rem; /* 12px - equivalent to text-xs */
    font-weight: 500;
    line-height: 1.1;
  }

  .label-text {
    font-size: 0.75rem; /* 12px - equivalent to text-xs */
    font-weight: 500;
    color: rgb(55 65 81); /* text-gray-700 */
    line-height: 1.2;
  }

  .body-text {
    font-size: 0.75rem; /* 12px - equivalent to text-xs */
    line-height: 1.3;
  }

  .helper-text {
    font-size: 0.6875rem; /* 11px - smaller than text-xs */
    color: rgb(107 114 128); /* text-gray-500 */
    line-height: 1.2;
  }

  .input-text {
    font-size: 0.75rem; /* 12px - equivalent to text-xs */
    line-height: 1.2;
  }

  .button-text {
    font-size: 0.75rem; /* 12px - equivalent to text-xs */
    line-height: 1.0;
  }

  /* Standardized Card Spacing */
  .page-container {
    max-width: 1000px; /* Updated to match container-standard */
    margin: 0 auto;
    padding: 1.5rem;
  }

  .page-header {
    background-color: white;
    border-bottom: 1px solid rgb(229 231 235); /* border-gray-200 */
    padding: 0.5rem 1rem; /* py-2 px-4 */
  }

  .section-spacing {
    margin-bottom: 1rem; /* space-y-4 equivalent */
  }

  .card-padding {
    padding: 1rem; /* Updated for better balance */
  }

  .card-header-padding {
    padding: 1rem 1rem 0.5rem 1rem; /* Updated for consistency */
  }

  .form-spacing {
    margin-bottom: 1rem; /* Updated for cleaner spacing */
  }

  /* Mobile-first responsive utilities */
  .mobile-grid-cols {
    display: grid;
    grid-template-columns: 1fr;
    gap: 0.75rem;
  }

  @media (min-width: 640px) {
    .mobile-grid-cols {
      grid-template-columns: 1fr 1fr;
    }
  }

  /* Modern sidebar */
  .saas-sidebar {
    @apply bg-sidebar-background text-sidebar-foreground border-r border-sidebar-border;
  }

  .saas-sidebar-nav {
    @apply flex flex-col gap-1 p-2;
  }

  .saas-sidebar-item {
    @apply flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-200 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground;
  }

  .saas-sidebar-item-active {
    @apply saas-sidebar-item bg-sidebar-primary text-sidebar-primary-foreground hover:bg-sidebar-primary/90;
  }

  /* Mobile responsive utilities */
  .mobile-container {
    @apply px-4 sm:px-6 lg:px-8;
  }

  .mobile-grid {
    @apply grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4;
  }

  .mobile-stack {
    @apply flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between;
  }
}

@layer utilities {
  .status-dot-active {
    @apply h-2.5 w-2.5 rounded-full bg-green-500 mr-2;
  }

  .status-dot-inactive {
    @apply h-2.5 w-2.5 rounded-full bg-red-500 mr-2;
  }

  .status-dot-pending {
    @apply h-2.5 w-2.5 rounded-full bg-blue-500 mr-2;
  }

  .status-dot-warning {
    @apply h-2.5 w-2.5 rounded-full bg-yellow-500 mr-2;
  }

  /* Word wrapping utilities for chat messages */
  .overflow-wrap-anywhere {
    overflow-wrap: anywhere;
    word-break: break-word;
    hyphens: auto;
  }

  /* SlidePanel z-index fix for Radix portal content */
  /* Target all Radix UI portaled content when slide panel is open */
  body.slide-panel-open [data-radix-portal] {
    z-index: 220 !important;
  }
  
  /* Comprehensive fix for all Radix UI Select components when panel is open */
  body.slide-panel-open [data-radix-select-content],
  body.slide-panel-open [data-radix-dropdown-menu-content],
  body.slide-panel-open [data-radix-popover-content],
  body.slide-panel-open [data-radix-dialog-content],
  body.slide-panel-open [data-radix-toast-viewport] {
    z-index: 220 !important;
  }
  
  /* Direct targeting of portaled Select content with data-state attributes */
  body.slide-panel-open [data-state="open"][role="listbox"],
  body.slide-panel-open [data-state="open"][data-radix-collection-item] {
    z-index: 220 !important;
  }

  /* Work Item Panel z-index fix - ensures panels appear above SlidePanel (z-210) */
  /* Direct targeting for maximum compatibility */
  [data-testid="work-item-panel"] {
    z-index: 220 !important;
  }
  
  /* Target the overlay sibling to work item panel */
  [data-testid="work-item-panel"] ~ [data-radix-dialog-overlay] {
    z-index: 220 !important;
  }

  /* TEMPORARILY DISABLED - Hide all X buttons and close buttons everywhere on mobile */
  @media (max-width: 1023px) and (display: none) {
    
    /* NUCLEAR SOLUTION: Hide ANY element positioned in top-left corner that could be an X */
    *[style*="position: absolute"][style*="top: 0"][style*="left: 0"],
    *[style*="position: fixed"][style*="top: 0"][style*="left: 0"],
    .absolute.top-0.left-0,
    .fixed.top-0.left-0,
    .absolute.inset-0,
    .fixed.inset-0,
    /* Target any element in top 50px left 50px area that contains X */
    *[style*="position: absolute"][style*="top:"][style*="left:"] svg,
    *[style*="position: fixed"][style*="top:"][style*="left:"] svg {
      display: none !important;
      visibility: hidden !important;
      opacity: 0 !important;
    }
    
    /* Hide ANY X character or icon that appears in top-left 100px area */
    body *:first-child *:contains("×"),
    body *:first-child *:contains("✕"),
    body *:first-child svg[data-lucide="x"],
    body *:first-child .lucide-x {
      display: none !important;
    }
    /* Hide X buttons in mobile sidebar */
    .fixed.inset-y-0.left-0 *[data-radix-dialog-close],
    .fixed.inset-y-0.left-0 button[aria-label*="close" i],
    .fixed.inset-y-0.left-0 button[aria-label*="Close" i],
    .fixed.inset-y-0.left-0 *:has(> svg.lucide.lucide-x),
    .fixed.inset-y-0.left-0 svg.lucide.lucide-x,
    .fixed.inset-y-0.left-0 *[class*="close"],
    .fixed.inset-y-0.left-0 *:has(> *:contains("×")),
    .fixed.inset-y-0.left-0 *:contains("×"),
    .fixed.inset-y-0.left-0 *:has(> *:contains("✕")),
    .fixed.inset-y-0.left-0 *:contains("✕") {
      display: none !important;
      visibility: hidden !important;
      opacity: 0 !important;
    }

    /* Hide ALL X buttons in the entire top navigation area */
    header *[data-radix-dialog-close],
    header button[aria-label*="close" i],
    header button[aria-label*="Close" i],
    header *:has(> svg.lucide.lucide-x),
    header svg.lucide.lucide-x,
    header *[class*="close"],
    header *:has(> *:contains("×")),
    header *:contains("×"),
    header *:has(> *:contains("✕")),
    header *:contains("✕"),
    /* Target any X buttons in fixed positioned elements */
    .fixed *[data-radix-dialog-close],
    .fixed button[aria-label*="close" i],
    .fixed button[aria-label*="Close" i],
    .fixed *:has(> svg.lucide.lucide-x),
    .fixed svg.lucide.lucide-x,
    .fixed *[class*="close"],
    .fixed *:has(> *:contains("×")),
    .fixed *:contains("×"),
    .fixed *:has(> *:contains("✕")),
    .fixed *:contains("✕") {
      display: none !important;
      visibility: hidden !important;
      opacity: 0 !important;
    }

    /* Hide browser-generated close buttons */
    .fixed.inset-y-0.left-0::before,
    .fixed.inset-y-0.left-0::after,
    .fixed.inset-y-0.left-0 *::before,
    .fixed.inset-y-0.left-0 *::after,
    header::before,
    header::after,
    header *::before,
    header *::after {
      content: none !important;
    }

    /* Hide any positioned close buttons everywhere */
    *[style*="position: absolute"][style*="top:"][style*="right:"] svg.lucide.lucide-x,
    .absolute.top-0.right-0 svg.lucide.lucide-x,
    .absolute.top-2.right-2 svg.lucide.lucide-x,
    .absolute.top-4.right-4 svg.lucide.lucide-x {
      display: none !important;
    }

    /* Nuclear option: Hide ALL X icons from lucide-react on mobile */
    svg.lucide-x,
    svg[data-lucide="x"],
    *[class*="lucide-x"],
    /* Also hide any text-based X characters */
    *:not(button):not(a):contains("×"),
    *:not(button):not(a):contains("✕"),
    *:not(button):not(a):contains("⨯"),
    /* Hide any absolute positioned elements with X content */
    .absolute:contains("×"),
    .fixed:contains("×") {
      display: none !important;
      visibility: hidden !important;
      opacity: 0 !important;
    }

    /* SIMPLE BUT EFFECTIVE X REMOVAL */
    
    /* All X icons from Lucide */
    svg[data-lucide="x"],
    .lucide-x,
    
    /* Radix UI close buttons */
    [data-radix-dialog-close],
    [data-radix-sheet-close],
    [data-radix-popover-close],
    
    /* ARIA close buttons */
    button[aria-label*="close" i],
    button[aria-label*="dismiss" i],
    
    /* Common close button classes */
    .close-button,
    .btn-close,
    .modal-close,
    .dialog-close {
      display: none !important;
      visibility: hidden !important;
      opacity: 0 !important;
      pointer-events: none !important;
    }
    
    /* TARGETED MOBILE SIDEBAR REMOVAL */
    @media (max-width: 1023px) {
      /* Hide specific mobile navigation patterns */
      .fixed.inset-y-0.left-0.w-64,
      .absolute.inset-y-0.left-0.w-64,
      .fixed.left-0.w-64,
      .absolute.left-0.w-64,
      /* Hide X close buttons */
      svg[data-lucide="x"],
      .lucide-x,
      [data-radix-dialog-close],
      [data-radix-sheet-close],
      button[aria-label*="close" i],
      /* Hide hamburger menu icons */
      svg[data-lucide="menu"],
      .lucide-menu,
      button[aria-label*="menu" i],
      /* NUCLEAR RADIX UI SHEET/DRAWER REMOVAL */
      [data-radix-sheet-portal],
      [data-radix-drawer-portal],
      [data-radix-sheet-overlay],
      [data-radix-drawer-overlay],
      [data-radix-sheet-content],
      [data-radix-drawer-content],
      [data-state="open"][data-radix-sheet-content],
      [data-state="open"][data-radix-drawer-content] {
        display: none !important;
        visibility: hidden !important;
        opacity: 0 !important;
        pointer-events: none !important;
        transform: translateX(-100%) !important;
      }
    }

    /* Target any dynamically added close buttons by common patterns */
    *[style*="position: absolute"][style*="top"][style*="right"] *,
    *[style*="position: fixed"][style*="top"][style*="right"] *,
    .absolute.top-0.right-0 *,
    .absolute.top-2.right-2 *,
    .absolute.top-4.right-4 *,
    .fixed.top-0.right-0 *,
    .fixed.top-2.right-2 *,
    .fixed.top-4.right-4 * {
      display: none !important;
    }

    /* More aggressive hiding of any possible X characters or close elements */
    *::before,
    *::after {
      content: none !important;
    }
    
    /* Hide any element that could contain X characters */
    *[data-lucide="x"],
    *[aria-hidden="true"]:contains("×"),
    *[aria-hidden="true"]:contains("✕"),
    *[style*="position: absolute"]:contains("×"),
    *[style*="position: fixed"]:contains("×") {
      display: none !important;
      visibility: hidden !important;
      opacity: 0 !important;
    }
  }
}
/* Custom Leaflet marker styles */
.custom-marker-icon {
  background: transparent !important;
  border: none !important;
}

.custom-marker-icon svg {
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
}
